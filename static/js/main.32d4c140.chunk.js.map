{"version":3,"sources":["components/Gallery/GalleryItem/GalleryItem.module.css","components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.js","components/Gallery/GalleryItem/Modal/Modal.js","components/Gallery/GalleryItem/GalleryItem.js","components/Gallery/Gallery.js","Container/App.js","index.js","components/Gallery/GalleryItem/Modal/Modal.module.css","Container/App.module.css"],"names":["module","exports","photoCard","stats","statsItem","fullscreenButton","img","searchForm","gallery","SearchForm","handleChange","_ref","target","_this","props","onChange","value","handleSubmit","event","preventDefault","onSubmit","this","react_default","a","createElement","className","styles","type","autoComplete","placeholder","Component","Modal","overlayRef","createRef","handleModalClose","e","closeModal","current","closeModalifEscape","keyCode","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","src","overlay","ref","onClick","modal","alt","image","GalleryItem","state","isModalOpen","handleModalOpen","setState","imgObj","Fragment","webformatURL","likes","views","comments","downloads","GalleryItem_Modal_Modal","largeImageURL","Gallery","imgList","map","Gallery_GalleryItem_GalleryItem","key","id","API_KEY","App","page","imagesList","input","isLoading","buttonLoadMoreRef","onImageFetch","_this$state","axios","get","concat","then","data","Object","toConsumableArray","hits","catch","err","console","log","finally","window","scrollTo","top","offsetTop","innerHeight","behavior","handleInputChange","pageAdd","prevState","_this$state2","app","components_SearchForm_SearchForm","loader","components_Gallery_Gallery","length","button","ReactDOM","render","Container_App","getElementById","spin"],"mappings":"2EACAA,EAAAC,QAAA,CAAkBC,UAAA,+BAAAC,MAAA,2BAAAC,UAAA,+BAAAC,iBAAA,sCAAAC,IAAA,8CCAlBN,EAAAC,QAAA,CAAkBM,WAAA,oDCAlBP,EAAAC,QAAA,CAAkBO,QAAA,wNCoCHC,6MA1BbC,aAAe,SAAAC,GAAgB,IAAbC,EAAaD,EAAbC,OAChBC,EAAKC,MAAMC,SAASH,EAAOI,UAG7BC,aAAe,SAAAC,GACbA,EAAMC,iBADgB,IAEdH,EAAUH,EAAKC,MAAfE,OAERI,EADqBP,EAAKC,MAAlBM,UACCJ,4EAGF,IACCA,EAAUK,KAAKP,MAAfE,MACR,OACEM,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAOnB,WAAYa,SAAUC,KAAKJ,cACjDK,EAAAC,EAAAC,cAAA,SACEG,KAAK,OACLC,aAAa,MACbZ,MAAOA,EACPD,SAAUM,KAAKX,aACfmB,YAAY,6BA3BGC,6BCgDVC,6MA7CbC,WAAaC,wBAEbC,iBAAmB,SAAAC,GAAK,IACdC,EAAevB,EAAKC,MAApBsB,WACAC,EAAYxB,EAAKmB,WAAjBK,QACJF,EAAEvB,SAAWyB,GACfD,OAIJE,mBAAqB,SAAAH,GAAK,IAChBC,EAAevB,EAAKC,MAApBsB,WACU,KAAdD,EAAEI,SACJH,OAIJI,kBAAoB,WAClBC,SAASC,iBAAiB,UAAW7B,EAAKyB,uBAG5CK,qBAAuB,WACrBF,SAASG,oBAAoB,UAAW/B,EAAKyB,6FAGtC,IACCO,EAAQxB,KAAKP,MAAb+B,IAER,OACEvB,EAAAC,EAAAC,cAAA,OACEC,UAAWC,IAAOoB,QAClBC,IAAK1B,KAAKW,WACVgB,QAAS3B,KAAKa,kBAEdZ,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOuB,OACrB3B,EAAAC,EAAAC,cAAA,OAAKqB,IAAKA,EAAKK,IAAI,GAAGzB,UAAWC,IAAOyB,iBApC9BrB,6BCqELsB,6MArEbC,MAAQ,CACNC,aAAa,KAefC,gBAAkB,WAChB1C,EAAK2C,SAAS,CACZF,aAAa,OAIjBpB,iBAAmB,WACjBrB,EAAK2C,SAAS,CACZF,aAAa,6EAIR,IACCG,EAAWpC,KAAKP,MAAhB2C,OACAH,EAAgBjC,KAAKgC,MAArBC,YACR,OACEhC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAmC,SAAA,KACEpC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOxB,WACrBoB,EAAAC,EAAAC,cAAA,OAAKqB,IAAKY,EAAOE,aAAcT,IAAI,MAAMzB,UAAWC,IAAOpB,MAC3DgB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOvB,OACrBmB,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOtB,WACnBkB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,cADF,IACgDgC,EAAOG,OAEvDtC,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOtB,WACnBkB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,gBADF,IACkDgC,EAAOI,OAEzDvC,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOtB,WACnBkB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,aADF,IAC+CgC,EAAOK,UAEtDxC,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOtB,WACnBkB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,oBACCgC,EAAOM,YAGZzC,EAAAC,EAAAC,cAAA,UACEG,KAAK,SACLF,UAAWC,IAAOrB,iBAClB2C,QAAS3B,KAAKkC,iBAEdjC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,oBAGH6B,GACChC,EAAAC,EAAAC,cAACwC,EAAD,CACEnB,IAAKY,EAAOQ,cACZ7B,WAAYf,KAAKa,2BA9DHJ,8BCoBXoC,EApBC,SAAAvD,GAAA,IAAGwD,EAAHxD,EAAGwD,QAAH,OACd7C,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAOlB,SACnB2D,EAAQC,IAAI,SAAAX,GAAM,OACjBnC,EAAAC,EAAAC,cAAC6C,EAAD,CAAaC,IAAKb,EAAOc,GAAId,OAAQA,wBCFrCe,EAAU,qCAgGDC,6MA7FbpB,MAAQ,CACNqB,KAAM,EACNC,WAAY,GACZC,MAAO,GACPC,WAAW,KAGbC,kBAAoB7C,wBAEpB8C,aAAe,SAAA/D,GAAS,IAAAgE,EACOnE,EAAKwC,MAA1BqB,EADcM,EACdN,KAAMC,EADQK,EACRL,WACdM,IACGC,IADH,sEAAAC,OAE0EnE,EAF1E,UAAAmE,OAEwFT,EAFxF,qBAAAS,OAEgHX,IAE7GY,KAAK,SAAAC,GAAI,OACRxE,EAAK2C,SAAS,CACZmB,WAAU,GAAAQ,OAAAG,OAAAC,EAAA,EAAAD,CAAMX,GAANW,OAAAC,EAAA,EAAAD,CAAqBD,EAAKA,KAAKG,OACzCX,WAAW,MAIdY,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,KACzBG,QAAQ,WACP,GAAInB,EAAO,EAAG,KACJrC,EAAYxB,EAAKiE,kBAAjBzC,QACRyD,OAAOC,SAAS,CACdC,IAAK3D,EAAQ4D,UAAY,EAAIH,OAAOI,YACpCC,SAAU,iBAMpBlF,aAAe,SAAAD,GACbH,EAAK2C,SACH,CACEkB,KAAM,EACNC,WAAY,GACZE,WAAW,GAEb,WACEhE,EAAKkE,aAAa/D,QAKxBoF,kBAAoB,SAAApF,GAClBH,EAAK2C,SAAS,CACZoB,MAAO5D,OAIXqF,QAAU,WAAM,IACNzB,EAAU/D,EAAKwC,MAAfuB,MACR/D,EAAK2C,SACH,SAAA8C,GAAS,MAAK,CACZ5B,KAAM4B,EAAU5B,KAAO,IAEzB,WACE7D,EAAKkE,aAAaH,8EAKf,IAAA2B,EACkClF,KAAKgC,MAAtCuB,EADD2B,EACC3B,MAAOD,EADR4B,EACQ5B,WAAYE,EADpB0B,EACoB1B,UAC3B,OACEvD,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO8E,KACrBlF,EAAAC,EAAAC,cAACiF,EAAD,CACErF,SAAUC,KAAKJ,aACfD,MAAO4D,EACP7D,SAAUM,KAAK+E,oBAEhBvB,EACCvD,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOgF,QAAvB,KAEApF,EAAAC,EAAAC,cAACmF,EAAD,CAASxC,QAASQ,IAEnBA,EAAWiC,OAAS,GACnBtF,EAAAC,EAAAC,cAAA,UACEG,KAAK,SACLqB,QAAS3B,KAAKgF,QACd5E,UAAWC,IAAOmF,OAClB9D,IAAK1B,KAAKyD,mBAJZ,qBAjFQhD,aCJlBgF,IAASC,OAAOzF,EAAAC,EAAAC,cAACwF,EAAD,MAASvE,SAASwE,eAAe,4BCHjDjH,EAAAC,QAAA,CAAkB6C,QAAA,uBAAAG,MAAA,qBAAAE,MAAA,yCCAlBnD,EAAAC,QAAA,CAAkBuG,IAAA,iBAAAK,OAAA,oBAAAH,OAAA,oBAAAQ,KAAA","file":"static/js/main.32d4c140.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"GalleryItem_photoCard__HNngK\",\"stats\":\"GalleryItem_stats__3mDja\",\"statsItem\":\"GalleryItem_statsItem__MCg_3\",\"fullscreenButton\":\"GalleryItem_fullscreenButton__2Hfki\",\"img\":\"GalleryItem_img__1Q_kk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__f_Wy6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__25Pc8\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n    onChange: PropTypes.func.isRequired,\n    value: PropTypes.string.isRequired,\n  };\n\n  handleChange = ({ target }) => {\n    this.props.onChange(target.value);\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { value } = this.props;\n    const { onSubmit } = this.props;\n    onSubmit(value);\n  };\n\n  render() {\n    const { value } = this.props;\n    return (\n      <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          value={value}\n          onChange={this.handleChange}\n          placeholder=\"Search images...\"\n        />\n      </form>\n    );\n  }\n}\nexport default SearchForm;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  overlayRef = createRef();\n\n  handleModalClose = e => {\n    const { closeModal } = this.props;\n    const { current } = this.overlayRef;\n    if (e.target === current) {\n      closeModal();\n    }\n  };\n\n  closeModalifEscape = e => {\n    const { closeModal } = this.props;\n    if (e.keyCode === 27) {\n      closeModal();\n    }\n  };\n\n  componentDidMount = () => {\n    document.addEventListener('keydown', this.closeModalifEscape);\n  };\n\n  componentWillUnmount = () => {\n    document.removeEventListener('keydown', this.closeModalifEscape);\n  };\n\n  render() {\n    const { src } = this.props;\n\n    return (\n      <div\n        className={styles.overlay}\n        ref={this.overlayRef}\n        onClick={this.handleModalClose}\n      >\n        <div className={styles.modal}>\n          <img src={src} alt=\"\" className={styles.image} />\n        </div>\n      </div>\n    );\n  }\n}\nModal.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n  src: PropTypes.string.isRequired,\n};\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from './Modal/Modal';\nimport styles from './GalleryItem.module.css';\n\nclass GalleryItem extends Component {\n  state = {\n    isModalOpen: false,\n  };\n\n  static propTypes = {\n    imgObj: PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n    }).isRequired,\n  };\n\n  handleModalOpen = () => {\n    this.setState({\n      isModalOpen: true,\n    });\n  };\n\n  handleModalClose = () => {\n    this.setState({\n      isModalOpen: false,\n    });\n  };\n\n  render() {\n    const { imgObj } = this.props;\n    const { isModalOpen } = this.state;\n    return (\n      <>\n        <div className={styles.photoCard}>\n          <img src={imgObj.webformatURL} alt=\"img\" className={styles.img} />\n          <div className={styles.stats}>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\"> thumb_up </i> {imgObj.likes}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\"> visibility </i> {imgObj.views}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\"> comment </i> {imgObj.comments}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\"> cloud_download </i>\n              {imgObj.downloads}\n            </p>\n          </div>\n          <button\n            type=\"button\"\n            className={styles.fullscreenButton}\n            onClick={this.handleModalOpen}\n          >\n            <i className=\"material-icons\"> zoom_out_map </i>\n          </button>\n        </div>\n        {isModalOpen && (\n          <Modal\n            src={imgObj.largeImageURL}\n            closeModal={this.handleModalClose}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default GalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport GalleryItem from './GalleryItem/GalleryItem';\nimport styles from './Gallery.module.css';\n\nconst Gallery = ({ imgList }) => (\n  <ul className={styles.gallery}>\n    {imgList.map(imgObj => (\n      <GalleryItem key={imgObj.id} imgObj={imgObj} />\n    ))}\n  </ul>\n);\nGallery.propTypes = {\n  imgList: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n};\nexport default Gallery;\n","import React, { Component, createRef } from 'react';\nimport axios from 'axios';\nimport SearchForm from '../components/SearchForm/SearchForm';\nimport Gallery from '../components/Gallery/Gallery';\nimport styles from './App.module.css';\n\nconst API_KEY = '12823669-c4c6a1e276b1258dc64881175';\n\nclass App extends Component {\n  state = {\n    page: 1,\n    imagesList: [],\n    input: '',\n    isLoading: false,\n  };\n\n  buttonLoadMoreRef = createRef();\n\n  onImageFetch = value => {\n    const { page, imagesList } = this.state;\n    axios\n      .get(\n        `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${value}&page=${page}&per_page=12&key=${API_KEY}`,\n      )\n      .then(data =>\n        this.setState({\n          imagesList: [...imagesList, ...data.data.hits],\n          isLoading: false,\n        }),\n      )\n      // eslint-disable-next-line no-console\n      .catch(err => console.log(err))\n      .finally(() => {\n        if (page > 1) {\n          const { current } = this.buttonLoadMoreRef;\n          window.scrollTo({\n            top: current.offsetTop - 2 * window.innerHeight,\n            behavior: 'smooth',\n          });\n        }\n      });\n  };\n\n  handleSubmit = value => {\n    this.setState(\n      {\n        page: 1,\n        imagesList: [],\n        isLoading: true,\n      },\n      () => {\n        this.onImageFetch(value);\n      },\n    );\n  };\n\n  handleInputChange = value => {\n    this.setState({\n      input: value,\n    });\n  };\n\n  pageAdd = () => {\n    const { input } = this.state;\n    this.setState(\n      prevState => ({\n        page: prevState.page + 1,\n      }),\n      () => {\n        this.onImageFetch(input);\n      },\n    );\n  };\n\n  render() {\n    const { input, imagesList, isLoading } = this.state;\n    return (\n      <div className={styles.app}>\n        <SearchForm\n          onSubmit={this.handleSubmit}\n          value={input}\n          onChange={this.handleInputChange}\n        />\n        {isLoading ? (\n          <div className={styles.loader}> </div>\n        ) : (\n          <Gallery imgList={imagesList} />\n        )}\n        {imagesList.length > 0 && (\n          <button\n            type=\"button\"\n            onClick={this.pageAdd}\n            className={styles.button}\n            ref={this.buttonLoadMoreRef}\n          >\n            Load more\n          </button>\n        )}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Container/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__sZT59\",\"modal\":\"Modal_modal__3NUxp\",\"image\":\"Modal_image__1vnXa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2GKR1\",\"button\":\"App_button__3GkOE\",\"loader\":\"App_loader__2T9pS\",\"spin\":\"App_spin__vg2I1\"};"],"sourceRoot":""}